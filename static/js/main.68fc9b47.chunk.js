(this["webpackJsonpmoovice-1-correction"]=this["webpackJsonpmoovice-1-correction"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a,c,r=n(0),s=n.n(r),i=n(27),o=n.n(i),l=(n(36),n(4)),u=n(5),j=n(7),b=n(6),v=n(11),d=n(2),h=(n(37),n(1)),p=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Home"}),Object(h.jsx)("p",{className:"movie",children:"Bienvenue sur le site Movie on vous propose les nouveaux films"})]})}}]),n}(r.Component),f=n(16),m=n(17),O=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=m.a.div(a||(a=Object(f.a)(["\n            width: 18rem;\n            transition: 0.5s;\n        "]))),t=this.props,n=t.film,c=t.handleClick;return Object(h.jsx)("button",{style:{marginTop:"18px"},onClick:function(){return c(n.id)},children:Object(h.jsxs)(e,{className:"card my-4 rounded",style:{width:"15rem"},children:[Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+n.poster_path,className:"card-img-top",alt:"..."}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:n.title}),Object(h.jsx)("p",{className:"card-text",children:n.overview})]}),Object(h.jsx)("ul",{className:"list-group list-group-flush",children:Object(h.jsx)("li",{className:"list-group-item",children:n.release_date})})]})})}}]),n}(r.Component),x=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={movies:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=8c2c5c205a0ac5bb229fe92084e87cf4").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results})}))}},{key:"render",value:function(){var e=m.a.div(c||(c=Object(f.a)(["\n            margin: 20;\n        "])));return Object(h.jsxs)(e,{children:[Object(h.jsx)("h1",{style:{textAlign:"center"},children:"Popular"}),Object(h.jsx)("div",{className:"d-flex flex-wrap justify-content-around",children:this.state.movies.map((function(e){return Object(h.jsx)(O,{film:e},e.id)}))})]})}}]),n}(r.Component),g=n(15),y=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleBattle=function(e){a.setState({currentBattle:a.state.currentBattle+2,favorites:[].concat(Object(g.a)(a.state.favorites),[e])}),localStorage.setItem("favorites",JSON.stringify([].concat(Object(g.a)(a.state.favorites),[e])))},a.state={movies:[],currentBattle:0,favorites:JSON.parse(localStorage.getItem("favorites"))||[],loading:!0},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=8c2c5c205a0ac5bb229fe92084e87cf4").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.movies,a=e.currentBattle;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Popular Battle"}),Object(h.jsx)("h3",{children:"Ajouter vos films prefer\xe9s dans les Favorites  "}),t&&Object(h.jsx)("div",{className:"spinner-border text-primary",role:"status"}),n.length>0&&a<n.length-1&&Object(h.jsxs)("div",{className:"d-flex justify-content-evenly flex-wrap",children:[Object(h.jsx)(O,{handleClick:this.handleBattle,film:n[a]}),Object(h.jsx)(O,{handleClick:this.handleBattle,film:n[a+1]})]}),a>=n.length-1&&Object(h.jsxs)("h3",{children:["Vous avez parcouru tous les films pour voir vos films s\xe9lectionner cliquer sur ",Object(h.jsx)(v.b,{className:"nav-link",to:"/favorites",children:"Favorites"})]})]})}}]),n}(r.Component),N=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getStorage=function(){return JSON.parse(localStorage.getItem("favorites"))},e.getMovie=function(t){fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=8c2c5c205a0ac5bb229fe92084e87cf4")).then((function(e){return e.json()})).then((function(t){return e.setState({movies:[].concat(Object(g.a)(e.state.movies),[t])})}))},e.state={movies:[],favIDs:e.getStorage()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.favIDs.map((function(t){return e.getMovie(t)}))}},{key:"render",value:function(){console.log("results",this.state.movies);var e=this.state,t=e.favIDs,n=e.movies;return Object(h.jsx)("div",{children:t?n.map((function(e){return Object(h.jsx)("div",{className:"d-flex flex-wrap justify-content-around",children:Object(h.jsx)(O,{film:e},e.id)})})):Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:"notFavorite"})})})}}]),n}(r.Component),k=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Error 404"})})}}]),n}(r.Component),C=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)(v.b,{className:"navbar-brand",to:"/",children:"Moovice"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(h.jsxs)("ul",{className:"navbar-nav",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(v.b,{className:"nav-link",to:"/popular",children:"Popular"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(v.b,{className:"nav-link",to:"/popular-battle",children:"Popular Battle"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(v.b,{className:"nav-link",to:"/favorites",children:"Favorites"})})]})})]})})}}]),n}(r.Component),S=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).getCurrentPosition=function(){navigator.geolocation.getCurrentPosition((function(e){console.log("latitude : ".concat(e.coords.latitude," / longitude : ").concat(e.coords.longitude))}),(function(e){console.error(e)}))},e}return Object(u.a)(n,[{key:"render",value:function(){return this.getCurrentPosition(),Object(h.jsxs)(v.a,{children:[Object(h.jsx)(C,{}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",component:p}),Object(h.jsx)(d.a,{path:"/popular",component:x}),Object(h.jsx)(d.a,{path:"/popular-battle",component:y}),Object(h.jsx)(d.a,{path:"/favorites",component:N}),Object(h.jsx)(d.a,{path:"*",component:k})]})]})}}]),n}(r.Component),B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(49),n(50);o.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),B()}},[[72,1,2]]]);
//# sourceMappingURL=main.68fc9b47.chunk.js.map